EfieldF <- function(vi,vicov,B){
    #
    # Calculate F-region electric field from
    # ion velocity measurement(s).
    #
    # input:
    #   vi        an ion velocity vector in cartesian coordinates [m/s] OR
    #             a matrix with one velocity vector on each line
    #   vicov     covariance matrix of a velocity vector OR
    #             a list of covariance matrices.
    #             length(vicov) == dim(vi)[1]
    #   B         magnetic field direction(s) in the same coordinate system with vi. Either a vector, or a list of vectors
    #
    #  output
    #   E         Electric field estimate
    #
    #
    # I. Virtanen 2016
    #


    




# we could make a function like e.g.
#    EfieldF <- function(PP,hmin=200,hmax=400)
#
#        where PP is a (collection of) PP list(s).
# which would call this one 
#
    



}
